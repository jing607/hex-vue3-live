import{a as l}from"./axios-Bo0ATomq.js";import{_ as g,c as a,a as o,t as c,F as p,e as u,h as v,v as b,g as y,d as f,o as r,p as S,i as C}from"./index-BTCFwRSy.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"haojing",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:_,VITE_PATH:h}=L,V={data(){return{product:{},qty:1,loadingStatus:{addCartLoading:""}}},methods:{addToCart(s,d=1){const i=`${_}/api/${h}/cart`,n={product_id:s,qty:d};this.loadingStatus.addCartLoading=s,l.post(i,{data:n}).then(t=>{console.log(t.data),this.loadingStatus.addCartLoading="product_id"}).catch(t=>{alert(t)})}},watch:{product(){this.qty=1}},mounted(){const{id:s}=this.$route.params;console.log(this.$route),console.log(this.$router);const d=`${_}/api/${h}/product/${s}`;l.get(d).then(i=>{console.log(i),this.product=i.data.product}).catch(i=>{alert(i.response.data.message)})}},k=s=>(S("data-v-91aa522c"),s=s(),C(),s),x={class:"modal-dialog modal-xl",role:"document"},I={class:"modal-content border-0"},T={class:"modal-header bg-dark text-white"},E={class:"modal-title",id:"exampleModalLabel"},w=k(()=>o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),U={class:"modal-body"},q={class:"row"},D={class:"col-sm-6"},R=["src"],B=["src"],P={class:"col-sm-6"},A={class:"badge bg-primary rounded-pill"},M={key:0,class:"h5"},N={key:1},F={class:"h6"},H={class:"h5"},O={class:"input-group"},j=["value"],z=["disabled"],G={key:0,class:"spinner-border spinner-border-sm","aria-hidden":"true"};function J(s,d,i,n,t,m){return r(),a("div",x,[o("div",I,[o("div",T,[o("h5",E,[o("span",null,c(t.product.title),1)]),w]),o("div",U,[o("div",q,[o("div",D,[o("img",{class:"card-img-top primary-image",src:t.product.imageUrl,alt:"主圖"},null,8,R)]),(r(!0),a(p,null,u(t.product.imagesUrl,e=>(r(),a("div",{key:e,class:"mb-3 img-container"},[o("img",{src:e,alt:"",class:"images m-2 col-sm-6"},null,8,B)]))),128)),o("div",P,[o("span",A,c(t.product.category),1),o("p",null,"商品描述："+c(t.product.description),1),o("p",null,"商品內容："+c(t.product.content),1),t.product.origin_price===t.product.price?(r(),a("div",M,c(t.product.origin_price)+" €",1)):(r(),a("div",N,[o("del",F,"原價 "+c(t.product.origin_price)+" €",1),o("div",H,"現在只要 "+c(t.product.price)+" €",1)])),o("div",null,[o("div",O,[v(o("select",{class:"form-select","onUpdate:modelValue":d[0]||(d[0]=e=>t.qty=e)},[(r(),a(p,null,u(20,e=>o("option",{value:e,key:e},c(e),9,j)),64))],512),[[b,t.qty]]),o("button",{type:"button",class:"btn btn-primary",onClick:d[1]||(d[1]=e=>m.addToCart(t.product.id,t.qty)),disabled:t.product.id===t.loadingStatus.addCartLoading},[t.product.id===t.loadingStatus.addCartLoading?(r(),a("span",G)):y("",!0),f(" 加入購物車 ")],8,z)])])])])])])])}const W=g(V,[["render",J],["__scopeId","data-v-91aa522c"]]);export{W as default};
