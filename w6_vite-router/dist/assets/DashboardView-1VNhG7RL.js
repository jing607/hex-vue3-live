import{a as u}from"./axios-Bo0ATomq.js";import{_ as m,c as f,a as n,b as r,w as a,d as e,f as k,l as g,g as V,F as v,r as d,o as l}from"./index-LAkLWFqI.js";var x={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"haojing",BASE_URL:"/hex-vue3-live/w6_vite-router/dist/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:R}=x,$={data(){return{checkSuccess:!1}},methods:{checkUser(){const c=`${R}/api/user/check`,t=document.cookie.replace(/(?:(?:^|.*;\s*)haojingToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t?(u.defaults.headers.common.Authorization=`${t}`,u.post(c,{api_token:this.token}).then(o=>{console.log("驗證成功",o.data.success),this.checkSuccess=!0}).catch(o=>{alert(o),this.$router.push("/login")})):(alert("請先登入"),this.$router.push("/login"))},signout(){document.cookie="haojingToken=;expires=;",alert("Signed out"),this.$router.push("/login")}},mounted(){this.checkUser()}},S=n("h1",null,"Admin Dashboard",-1);function w(c,t,o,E,h,i){const s=d("RouterLink"),_=d("RouterView");return l(),f(v,null,[S,n("nav",null,[r(s,{to:"/admin/products"},{default:a(()=>[e("Products")]),_:1}),e(" | "),r(s,{to:"/admin/order"},{default:a(()=>[e("Order")]),_:1}),e(" | "),r(s,{to:"/"},{default:a(()=>[e("Back to front")]),_:1}),e(" | "),n("a",{href:"#",onClick:t[0]||(t[0]=k((...p)=>i.signout&&i.signout(...p),["prevent"]))},"Sign out")]),h.checkSuccess?(l(),g(_,{key:0})):V("",!0)],64)}const D=m($,[["render",w]]);export{D as default};
